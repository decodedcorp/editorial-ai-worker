# Requirements Archive: v1.1 파이프라인 실행 검증 + 관측성 + 매거진 렌더러

**Archived:** 2026-02-26
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1.0 Requirements (Complete — shipped 2026-02-26)

### Foundation

- [x] **FOUND-01**: LangGraph StateGraph 기반 파이프라인 스켈레톤 구축
- [x] **FOUND-02**: Vertex AI (ChatGoogleGenerativeAI) 연동 및 기본 LLM 호출
- [x] **FOUND-03**: Supabase 서비스 레이어 (셀럽, 상품, 포스트 CRUD)
- [x] **FOUND-04**: LangGraph 체크포인터 설정 (Postgres 기반 상태 영속화)

### Curation

- [x] **CURE-01**: Perplexity API로 패션 트렌드 키워드 자동 수집
- [x] **CURE-02**: 수집된 키워드를 파이프라인 상태에 전달

### Editorial

- [x] **EDIT-01**: 키워드 + 수집 자료 기반 에디토리얼 초안 자동 생성
- [x] **EDIT-02**: Supabase에서 관련 셀럽/인플루언서 검색 (Tool/Skill)
- [x] **EDIT-03**: Supabase에서 관련 상품/브랜드 검색 (Tool/Skill)
- [x] **EDIT-04**: Magazine Layout JSON 구조화 출력 (Structured Output)

### Review

- [x] **REVW-01**: LLM-as-a-Judge 기반 품질 평가
- [x] **REVW-02**: 실패 시 구조화된 피드백과 함께 Editorial Agent로 반려
- [x] **REVW-03**: 최대 3회 재시도 제한, 초과 시 에스컬레이션

### Admin

- [x] **ADMN-01**: 검수 통과 콘텐츠를 Supabase에 pending 상태로 저장
- [x] **ADMN-02**: 콘텐츠 프리뷰 + 승인/반려 API
- [x] **ADMN-03**: Human-in-the-loop: interrupt() 패턴으로 관리자 승인 대기
- [x] **ADMN-04**: 간단한 Admin 대시보드 UI (프리뷰 + 승인/반려)

## v1.1 Requirements (Complete — shipped 2026-02-26)

### E2E 실행 환경

- [x] **E2E-01**: 환경변수 누락 시 fail-fast — *validated*
- [x] **E2E-02**: GET /health 헬스체크 — *validated*
- [x] **E2E-03**: seed_keyword 필드명 불일치 수정 — *validated*
- [x] **E2E-04**: Admin '새 콘텐츠 생성' 트리거 — *validated*
- [x] **E2E-05**: 샘플 데이터 SQL seed — *validated*

### 파이프라인 관측성

- [x] **OBS-01**: 노드별 실행 로그 수집 — *validated*
- [x] **OBS-02**: pipeline_node_runs 저장 — *validated*
- [x] **OBS-03**: 파이프라인 로그 API — *validated*
- [x] **OBS-04**: Admin 노드별 타임라인 로그 패널 — *validated*
- [x] **OBS-05**: 토큰 비용 추정 표시 — *validated*
- [x] **OBS-06**: 목록 파이프라인 진행 상태 표시 — *partial: terminal states only, in-flight status requires SSE (deferred)*

### 매거진 렌더러

- [x] **MAG-01**: 이미지 블록 실제 렌더링 + fallback — *validated*
- [x] **MAG-02**: 매거진 품질 타이포그래피 — *validated*
- [x] **MAG-03**: 블록 레벨 에러 바운더리 — *validated*
- [x] **MAG-04**: JSON + 렌더링 병렬 뷰 — *partial: tabs instead of side-by-side (deliberate)*

### 파이프라인 고도화

- [x] **ADV-01**: 다이나믹 모델 라우팅 — *validated*
- [x] **ADV-02**: 컨텍스트 캐싱 — *validated*
- [x] **ADV-03**: 적응형 루브릭 — *validated*

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| FOUND-01 | Phase 1 | Complete |
| FOUND-02 | Phase 1 | Complete |
| FOUND-03 | Phase 2 | Complete |
| FOUND-04 | Phase 2 | Complete |
| CURE-01 | Phase 3 | Complete |
| CURE-02 | Phase 3 | Complete |
| EDIT-01 | Phase 4 | Complete |
| EDIT-02 | Phase 5 | Complete |
| EDIT-03 | Phase 5 | Complete |
| EDIT-04 | Phase 4 | Complete |
| REVW-01 | Phase 6 | Complete |
| REVW-02 | Phase 6 | Complete |
| REVW-03 | Phase 6 | Complete |
| ADMN-01 | Phase 7 | Complete |
| ADMN-02 | Phase 7 | Complete |
| ADMN-03 | Phase 7 | Complete |
| ADMN-04 | Phase 8 | Complete |
| E2E-01 | Phase 9 | Complete |
| E2E-02 | Phase 9 | Complete |
| E2E-03 | Phase 9 | Complete |
| E2E-04 | Phase 9 | Complete |
| E2E-05 | Phase 9 | Complete |
| OBS-01 | Phase 10 | Complete |
| OBS-02 | Phase 10 | Complete |
| OBS-03 | Phase 10 | Complete |
| OBS-04 | Phase 12 | Complete |
| OBS-05 | Phase 12 | Complete |
| OBS-06 | Phase 12 | Partial |
| MAG-01 | Phase 11 | Complete |
| MAG-02 | Phase 11 | Complete |
| MAG-03 | Phase 11 | Complete |
| MAG-04 | Phase 11 | Partial |
| ADV-01 | Phase 13 | Complete |
| ADV-02 | Phase 13 | Complete |
| ADV-03 | Phase 13 | Complete |

**Coverage:**
- v1.0 requirements: 17 total (all complete)
- v1.1 requirements: 18 total (16 complete, 2 partial)
- Mapped to phases: 35/35
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 16 of 18 v1.1 requirements fully satisfied (2 partial)
**Adjusted:**
- OBS-06: In-flight pipeline status deferred — requires SSE architecture (listed as SSE-01 in future requirements)
- MAG-04: Tabs chosen over side-by-side for better mobile UX

**Dropped:** None

---
*Archived: 2026-02-26 as part of v1.1 milestone completion*
